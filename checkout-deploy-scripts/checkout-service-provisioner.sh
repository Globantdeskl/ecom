#!/bin/bash
# Script to provision services for Cloud Environments. Ignores services that already exist within the environments

if [[ -z "$1" ]]; then
   echo "Empty passed variables environment:$1"
   exit 1
fi

if [ $1 = "dev" -o $1 = "qa" -o $1 = "sit" -o $1 = "perf" -o $1 = "prod" ]
then
	echo "environment:$1"
else 
	echo "Unknown environment:$1"
	exit 2
fi

echo "targeting $1"
cf target -s $1

if [[ ! $(cf services | grep pcf-to-aci) ]]
then

if [ $1 = "prod" ]
then
	cf cups pcf-to-aci -p "{\"division-number\":\"ae_ugp_rs\",\"client-id\":\"000450030001\",\"ssl-key\":\"20171\",\"config-path\":\"/home/vcap/app/BOOT-INF/classes/data/security/remote\"}"
else
    cf cups pcf-to-aci -p "{\"division-number\":\"ae_ugp_rs\",\"client-id\":\"000450030001\",\"ssl-key\":\"20171\"}"
fi
	
else

if [ $1 = "prod" ]
then
	cf update-user-provided-service pcf-to-aci -p "{\"division-number\":\"ae_ugp_rs\",\"client-id\":\"000450030001\",\"ssl-key\":\"20171\",\"config-path\":\"/home/vcap/app/BOOT-INF/classes/data/security/remote\"}"
else
	cf update-user-provided-service pcf-to-aci -p "{\"division-number\":\"ae_ugp_rs\",\"client-id\":\"000450030001\",\"ssl-key\":\"20171\"}"
fi
	
fi

if [[ ! $(cf services | grep pcf-to-vertex) ]]
then

if [ $1 = "dev" -o $1 = "qa" -o $1 = "sit" ]
then
	tax_srvc="\"service\":\"https://dev-tax.ae.com/vertex-ws/services/CalculateTax70\""
	tax_wsdl="\"wsdl-location\":\"https://dev-tax.ae.com/vertex-ws/services/CalculateTax70?wsdl\""
	tax_usr="\"user-name\":\"eComm\""
	tax_pswd="\"password\":\"vertex\""
elif [ $1 = "perf" ]
then
	tax_srvc="\"service\":\"https://stress-tax.ae.com/vertex-ws/services/CalculateTax70\""
	tax_wsdl="\"wsdl-location\":\"https://stress-tax.ae.com/vertex-ws/services/CalculateTax70?wsdl\""
	tax_usr="\"user-name\":\"eComm\""
	tax_pswd="\"password\":\"vertex\""
elif [ $1 = "prod" ]
then
	tax_srvc="\"service\":\"https://tax.ae.com/vertex-ws/services/CalculateTax70\""
	tax_wsdl="\"wsdl-location\":\"https://tax.ae.com/vertex-ws/services/CalculateTax70?wsdl\""
	tax_usr="\"user-name\":\"eComm\""
	tax_pswd="\"password\":\"vertex\""
fi

cf cups pcf-to-vertex -p "{$tax_srvc,$tax_wsdl,$tax_usr,$tax_pswd}"
	
else
	
if [ $1 = "dev" -o $1 = "qa" -o $1 = "sit" ]
then
	tax_srvc="\"service\":\"https://dev-tax.ae.com/vertex-ws/services/CalculateTax70\""
	tax_wsdl="\"wsdl-location\":\"https://dev-tax.ae.com/vertex-ws/services/CalculateTax70?wsdl\""
	tax_usr="\"user-name\":\"eComm\""
	tax_pswd="\"password\":\"vertex\""
elif [ $1 = "perf" ]
then
	tax_srvc="\"service\":\"https://stress-tax.ae.com/vertex-ws/services/CalculateTax70\""
	tax_wsdl="\"wsdl-location\":\"https://stress-tax.ae.com/vertex-ws/services/CalculateTax70?wsdl\""
	tax_usr="\"user-name\":\"eComm\""
	tax_pswd="\"password\":\"vertex\""
elif [ $1 = "prod" ]
then
	tax_srvc="\"service\":\"https://tax.ae.com/vertex-ws/services/CalculateTax70\""
	tax_wsdl="\"wsdl-location\":\"https://tax.ae.com/vertex-ws/services/CalculateTax70?wsdl\""
	tax_usr="\"user-name\":\"eComm\""
	tax_pswd="\"password\":\"vertex\""
fi

cf update-user-provided-service pcf-to-vertex -p "{$tax_srvc,$tax_wsdl,$tax_usr,$tax_pswd}"
	
fi

if [[ ! $(cf services | grep checkout-splunk) ]]
then
    cf create-user-provided-service checkout-splunk -l syslog://10.150.32.25:1402
fi

if [[ ! $(cf services | grep checkout-newrelic) ]]
then
    cf create-service newrelic pcf checkout-newrelic
fi

if [[ ! $(cf services | grep fraud-enabled) ]]
then
	if [ $1 = "dev" -o $1 = "qa" -o $1 = "sit" -o $1 = "prod" ]
	then
		cf create-user-provided-service fraud-enabled -p "{\"fraud-enabled\":\"true\"}"
	elif [ $1 = "perf" ]
	then
		cf create-user-provided-service fraud-enabled -p "{\"fraud-enabled\":\"false\"}"
	fi
else
	if [ $1 = "dev" -o $1 = "qa" -o $1 = "sit" -o $1 = "prod" ]
	then
		cf update-user-provided-service fraud-enabled -p "{\"fraud-enabled\":\"true\"}"
	elif [ $1 = "perf" ]
	then
		cf update-user-provided-service fraud-enabled -p "{\"fraud-enabled\":\"false\"}"
	fi
fi

if [[ ! $(cf services | grep checkout-autoscaler) ]]
then
    cf create-service app-autoscaler standard checkout-autoscaler
fi

# Services configuration for SDD App Start

#Rabbitmq configuration for SDD
if [[ ! $(cf services | grep checkout-processing-queue) ]]
then
    cf create-service p.rabbitmq single-node-3.7 checkout-processing-queue -b rabbitmq-odb
fi

#Google pubsub configuration for SDD
same_day_delivery_subscription="same-day-delivery-pubsub-service"

if [[ ! $(cf services | grep $same_day_delivery_subscription) ]]
then
  	case $1 in

    dev)
    	cf create-user-provided-service $same_day_delivery_subscription -p '{"project_id":"pivotal-sandbox-243614","subscription_name":"same-day-delivery-subscription-dev","private_key":"ew0KICAidHlwZSI6ICJzZXJ2aWNlX2FjY291bnQiLA0KICAicHJvamVjdF9pZCI6ICJhZW8tY3VzdG9tZXItdGVzdC1ub25wcm9kLTk0NzkiLA0KICAicHJpdmF0ZV9rZXlfaWQiOiAiMjJkNGU5OGYxZmY5YjdiZjI4ZGY5M2I5N2M5MTJjZWIzZWFkOTk4MiIsDQogICJwcml2YXRlX2tleSI6ICItLS0tLUJFR0lOIFBSSVZBVEUgS0VZLS0tLS1cbk1JSUV2d0lCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktrd2dnU2xBZ0VBQW9JQkFRQ1RzZnlQZ2Nsdlh3WmNcbkNkby9NTm9JWXZvMGc4aDFDUjdrUHdsOFpwczFENVNIZVFWTWFNL0F4TGpTRnBlVEZySVpxcGtKQjd2NkNoaUhcbmJlZEw4UEwvbDBkRGZoRGVaZUN3U3lFZHJlRUF1RWgxUkRLaXpGZGpxcDQ3QXpXZThNNFpTa0lYMlNjYmxsamFcbk80M1lDK2R4V0Z5Z0k1cGxDaEIzWXBNcjZQQ3hoQWxJRUJNeHFhM0Z3ZlNBdEkwbk80Zk9Sd0JnMXh6MFpwVFRcbmwvSXBrMUtWNXBsdVA5WUZvbEExaTUvL1VzT2E0ekIrOCtxUXBRV1JCZzlIS2F6MS9Iak83VXZMYTk0cmVmS3hcbkJEQ2VlNTZ1ZmhiODRrYXovWGZrQ1ErU1BYREFIZVpDeUo4Lzdtbi9iWFlzdWFUaHk1TmV1NWUrWEZ6cU93bnpcblBJdkljd2liQWdNQkFBRUNnZ0VBQmNvR3Q4dE51Q29BaDZWZE9DS0pPL3RCTlJqQW5UeHljN09OZ3N6MHpYak5cbnMzSmVHa3pMYnBJU0dvTmNoVWZ3OVlwQjB3cjB1OHdmTFFQS1QvMk5waVlVV3RsbC9qUlR3U1ZEYURTVGFyZE9cbmVSdVNEb2sxbUYyczNteEs4dTdHYlZNRFVkMm0vUEVBNGtENUFqRytseXRGcWkzckZJWE1vbTZyTjhxUUpnSm9cbmY1NzFJa0lBRDA4dUE4eEFIQXlKUnhtc2s1dFRUYnZSZXk5S0RORlBMdk55ZW5mMitCZC9UV1c4T3JtN0NOa0FcbjBqRzhtaGNabWNTVFRqRE5ERm1jZU1oVXRMbnd3aVVTeGpOVVBmQUozSjM5NCtQVEZtbVAzaDM2SlFwRHhVQUJcbmNUWEJZYXE2czkvUlZpY3prYzNuRmZJaWpsWUlzSFk4eG9KT01LemVRUUtCZ1FERGpSVG9IUGZtSkdxb2NUb3FcbjVtRmJTSGNVSmtMbXU5WGU3d05RTXRJalA1VHpIKytUcmlidWltKzFQL1NkTEEzZFBvMWtEbXd5VUtoczBaZHhcbjdhTGsyN0ZBS3E0MDdHdFlBclkvZzdZTTVVa1o2YWZrdG1ObndJZFluRC9vWFZzL0ViV3JlaEIzMGZwZ05vWHFcbldjSVYxMFJBMTZ4Z0Fza29wRHExeXZWK3dRS0JnUURCV2RaZXFpWVFQNnUwN3lWOGFwdzR3QXlsUXlSOVZobm1cbkpJeXJoUzFnenAvRlBhMDJHRkhtNHN2bHB3RithK2dDc1hBaEcvUmthZXZpN1VmbGd6b0ZjOVBGNVdmczFvQldcbktCY3Z2cjZkRUplTU9mQ09jbWFIandqV3hCOGFQMmVkV3FUbitLNDVSWmozb3MxK0VxRFlnNEg4WWcyRFBiQWJcbnUzM09EWWQ2V3dLQmdRQzZVYk1JMFlrVmU3OHdET29hTS9XeER1TitqRklVSEFaVDZqR2krVGtsSXBDZDhlRElcbk9oZVlFc2tLemd3WXNQL292SS9sTktTOGNBTjU0MTFEek9MMjRhZ0o5bUNUeG1za3FUalNYWUZZMmlJRGtaQkpcbnA4b2c4ZDFEZldTYTFsQjVVRHRqVGVOZzl1MXpQSi90d1dYZWY0UGxzRmpxQmQxNlhyZ2R2R3FhUVFLQmdRQ1BcbkdXWkcrYmJpSDcxOVUrRnlpNVREaTUvUVVEa1phamdRMU13bnhaRW9MTVNpdmxzTHhrUVhsWk5DaksvV1dSYUZcbnA3MU5ROXRFMWYvM0c1WXlqMFRKOUVld0YzRXJJRFlyamRCYlRkalZkZ296aGs0N252K3pKSEZ1UWdpaTdIcExcblEyTDVMRndGbHpUM1VrNjBHQ1ZqR1RHREVTN2ZDekRqMVlmdWtLVE1NUUtCZ1FDdkxvMS9ycExhOWhJWHNkL1RcbnVwSTdTWDRXeEVsN3hyR3VDV0hBVitrNXV0REFMbjlrVitqRXN6NlY5TU5JaDJrTkcxQ0VnbzZxWWMzclhUaWtcbjVYRG9seHdYMDlTWTg1c1dUU1BRVTEvQ0JWZWVHRFhmTmZralVuWDBpc2d4MmUwbUdJSkZ3VmhqVzZhdTlwcEFcbkFlb0pBdGZGM21pelJQbnA4bGY4bm9iQzFRPT1cbi0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS1cbiIsDQogICJjbGllbnRfZW1haWwiOiAiYWVvLXBjZjJwY2YtcHVic3ViLWRldkBhZW8tY3VzdG9tZXItdGVzdC1ub25wcm9kLTk0NzkuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLA0KICAiY2xpZW50X2lkIjogIjExNDM4MDU3NDg3OTA3MzI2NzUyNiIsDQogICJhdXRoX3VyaSI6ICJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20vby9vYXV0aDIvYXV0aCIsDQogICJ0b2tlbl91cmkiOiAiaHR0cHM6Ly9vYXV0aDIuZ29vZ2xlYXBpcy5jb20vdG9rZW4iLA0KICAiYXV0aF9wcm92aWRlcl94NTA5X2NlcnRfdXJsIjogImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL29hdXRoMi92MS9jZXJ0cyIsDQogICJjbGllbnRfeDUwOV9jZXJ0X3VybCI6ICJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9yb2JvdC92MS9tZXRhZGF0YS94NTA5L2Flby1wY2YycGNmLXB1YnN1Yi1kZXYlNDBhZW8tY3VzdG9tZXItdGVzdC1ub25wcm9kLTk0NzkuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iDQp9"}'
    	;;
    
    qa)
    	cf create-user-provided-service $same_day_delivery_subscription -p '{"project_id":"pivotal-sandbox-243614","subscription_name":"same-day-delivery-subscription-qa","private_key":"ew0KICAidHlwZSI6ICJzZXJ2aWNlX2FjY291bnQiLA0KICAicHJvamVjdF9pZCI6ICJhZW8tY3VzdG9tZXItdGVzdC1ub25wcm9kLTk0NzkiLA0KICAicHJpdmF0ZV9rZXlfaWQiOiAiYTUxNTA5NTZiMzcwMTE3MGU2ZmVmYWQ5ZTY4MGY5OWI0M2RjNGM2ZSIsDQogICJwcml2YXRlX2tleSI6ICItLS0tLUJFR0lOIFBSSVZBVEUgS0VZLS0tLS1cbk1JSUV2Z0lCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktnd2dnU2tBZ0VBQW9JQkFRQzZvRUVySTVYcHE5eUZcbm1hNmZaekRkZ1FzSDgxQ1p4Z0xkb0NlTzBsdU5ubG9la0ZuTEdQSWwzMVFKY0ZReTRPODZGYi9xbllZWGhJa0FcbndYZ3Z0Y0JScm9GZ2tveWU4NTNNRzNTOExEUlpzSEhIeHV0dmlzdDNoc0N4c2dyUkxmZmVHSnpIRDFLVTRFa21cblFlcjQwdjN0dXZYakJBMVVVRXFQUzNTOThBR2kvUDNpZVI4OE0zc3ZUSmxGWllSNkRZMHpaNGlHejZUTlY5REVcbnF0R3U1L2tiTFJpblFIa25CanJ6dVNRSjd1OEtyZjdXUVVYSWRBNDRBZFJmaVQwektrRVY4VXJxNER0dVJheFNcbmJNa3JKdVFaM1VVc3JXYWJ4THUvMnFlL2tYU0VWMEJrbXNNeExiNUhraGVsUTE1RkRiK0Ruc3FWdThOM3dhVWJcblRxS1ZDOXR6QWdNQkFBRUNnZ0VBTVVZeG5xbTVJYWFpUlZZRDBJdUd6OTBMNUEvK2huTk0rMllYTzdMWHdHY0FcblpWUjRtTktmMEpjTUVhZnFXenFmZnljUjhtaWY2R0t5WjVRdFh1OXVkVUtOWDBtaVBpK1ZTTGd4RktQWk9Kc0pcbkY1V3lRTk9WRUJ4d2tSb3dsL1U2bmhYQ2d4NU5FQWk5MTQrTThpQ0hNZmJzaUFGZ1laUUhjNWtaSERNYnc0UHpcbjZKcmhZVU00RGRBR1IrZFN2MEdLK1FML3cvWXVSVVZvRkx1TXlTZEI1aU9JcFA0QzZjSHMvR2NicVRXNjVPUlNcbmwxck9tNnZ2NXBLUExxaWg0MFlEUmdkSGN6cjBMVVc4aklKTHgyNmtGbXI2Z29Cek52ZFJIMVM2ZUlHVC90YnZcbnZUbzk4aU1rbXVqQTFnNms3dTlZZUVxc1BGeVdTY0tMYVRsU1k3ajNRUUtCZ1FEcmRpb3NUanFoL3FmY3BKek9cbnoxRUVqekJwMlRpWXVXZlpXTGRwMEQyZzczNkJseWJlaVpTNm1EaEU4NzJzSU95UFNSekN4ODh4eU9aSmgvNXRcbk5VNWI2OEpzVktoLy93Qm5RSllXMzdyam1pM051MWFpWjM0VnN1Qkx4QkZJS2x6eWdrRGY5bG56VTZ5dGFaMG5cblNQQzRuUFhsNkFzVWJBQWt4RVZYdDJWM013S0JnUURLNTVpQVFQZ0Z5Y1IyY1c2YmswaFhHY0p6d1d4UkVQWUZcbkM2aFlOc2d2UGgzL1VocXZkTzR6eUZxZWFoUjRLRXdHZWc4WTBrRXFlN2g4OURQS0ZTSHE4dXF1V1RwZDgzWmtcbkRiU3hxWmRmVDBpWm9qRU5NZkFjOStBamZpakg3U0phTU9HelNoUlBFWTNnNTNBcmZ0MWhyOGJXVzFEZzVoN2lcbkJuOTRoWWNLd1FLQmdRQzFERzd4RWxYVEtkUTR1L28ycXdKSTF6RUtzcFBxR3VYWElYZ21USkNXcHBCSFpNbm1cbll6T1JKbXBkMm0wRlpXdC80Vi9VQlg4emNKNWgrOGVPZ1daM0Y1aXZZNGtNb2k3Vk5id3lhbVZ4aktPYmhXamdcbkIyUFRtMjhMMHY3VzFud1JuRVgxNzU3S2twUTc0dkdMdTNJZEFkT3hxL0taQ1ZJeTh4ZStrcTNhTVFLQmdRQ3JcbndKemJPNk4ycXRNdGUxa29RZVRETGQvbXdqemc1aDJLS2RNSFVOL2s5WXpJMmdRU3IwVU8raktTMDdLZC8yWlRcbk9URGNUdVd3ZzJlb0JjSnM5YlJ2UDg2ZFpKUStnTjZmVk9hMldKcjBwNVVKenp2OE1tQlE5UlY2bGNrSmF0WmdcblIrNVZLSWpHWVZLYXBPM1RNNkZMbGxJV2t0ZUVkK1orWndleHlqMkVRUUtCZ0ZrNUFSdDAzWXFCL1FWWENPcDlcbmhNaUZLUmx3S0NWa3hYcFFwWU9QTzhhUWROZzhCczlleTBCLzdhdk1IS1V0VDEyK2VyQnRFd2JFSmVmTTVwK3Ncbi83M054ZEFQMnk0WndTdFZZdDZWZVl2RkV6Y2VPczI2cmx2dlRiOXZna2hSR3ZicEV5Y2xmZnEzUmd6RHdxTUVcblRCaHRwdGdwTEZ4RTg3b0dQc3YvY0RPNFxuLS0tLS1FTkQgUFJJVkFURSBLRVktLS0tLVxuIiwNCiAgImNsaWVudF9lbWFpbCI6ICJhZW8tcGNmMnBjZi1wdWJzdWItcWFAYWVvLWN1c3RvbWVyLXRlc3Qtbm9ucHJvZC05NDc5LmlhbS5nc2VydmljZWFjY291bnQuY29tIiwNCiAgImNsaWVudF9pZCI6ICIxMTYwNDQ0MDA4NDI2MjMzMjAwOTIiLA0KICAiYXV0aF91cmkiOiAiaHR0cHM6Ly9hY2NvdW50cy5nb29nbGUuY29tL28vb2F1dGgyL2F1dGgiLA0KICAidG9rZW5fdXJpIjogImh0dHBzOi8vb2F1dGgyLmdvb2dsZWFwaXMuY29tL3Rva2VuIiwNCiAgImF1dGhfcHJvdmlkZXJfeDUwOV9jZXJ0X3VybCI6ICJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9vYXV0aDIvdjEvY2VydHMiLA0KICAiY2xpZW50X3g1MDlfY2VydF91cmwiOiAiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vcm9ib3QvdjEvbWV0YWRhdGEveDUwOS9hZW8tcGNmMnBjZi1wdWJzdWItcWElNDBhZW8tY3VzdG9tZXItdGVzdC1ub25wcm9kLTk0NzkuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iDQp9"}'
    	;;
    
    sit)
    	cf create-user-provided-service $same_day_delivery_subscription -p '{"project_id":"pivotal-sandbox-243614","subscription_name":"same-day-delivery-subscription-sit","private_key":"ew0KICAidHlwZSI6ICJzZXJ2aWNlX2FjY291bnQiLA0KICAicHJvamVjdF9pZCI6ICJhZW8tY3VzdG9tZXItdGVzdC1ub25wcm9kLTk0NzkiLA0KICAicHJpdmF0ZV9rZXlfaWQiOiAiOGUyZTZiZmY2YjhhNGI0MGQwYjY1YzI2MGFkNzVlNTEwMmRlNGJjNSIsDQogICJwcml2YXRlX2tleSI6ICItLS0tLUJFR0lOIFBSSVZBVEUgS0VZLS0tLS1cbk1JSUV2d0lCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktrd2dnU2xBZ0VBQW9JQkFRQ3E5RFczdVhDRlBJcHhcblpvaXduU2ZKVE5JL01STmdMbUFPVW5IaCtKa0w0VXR0SDNJOWVtekQxYXhLOHQ3N0RIclA3dVUrVERUVTYvWEhcbnN3amZFblhjZUlYbmc4cGl6eGdJYUszcWgzWnhLQi9FRkRxanJCaGx3SHNJd1JmS2lDZWgxaUlLMmh1RE5tbjBcbmRvWlB0Nk91YlZKZ2h2VUdHN1BHcmZFOUdhMklBVUZVWVVLU3BIS0MrZHdPVW42VVhKVGh1eHBpdzkyK0JyVllcblRQQUthQkQ1b1ZyMmxqdG11cTdHRUVXTTF1NThMY1N0bUNwcXI1Ri82MEZoa0wrT0UyUjdTV2hBd2VJZmdOTkpcbjQ1bW9WV3poVGdJc2RxTGJpUWxIcDJwWDJaeEJxY0ZsKzBVaDFKZjA0aFlaMm1rT2grdWtHVnlXdHpZSTJuNEZcbmUyRTZLaFNQQWdNQkFBRUNnZ0VBUnMzWmw4d1N1ZVErdE1RU1ZnL3BCQnN3c3lKNDAydXh0Z3pZaFE2SkdONEpcbmR0dEEzZ3lnRXFZamMzRlBBQ3lGaXl4M1B3dWlFQlBnbW9MZzZEOUZtSGhFZ1lSWXBQOEFCYStSWktNUlg4R09cbkVwQ01UdkMrdEJuNSswQzZRVlNPRVozV1FLZGdJTUsvTkpTSWdXamVQcWFocVVBTUtLajlsd3JBOFJ6Ni9lcFZcbnI3ZEcrQld3bkJtOXhoZWpkenptRUdiUVloVHpobFdoclBFNHY2dW1wUkEzRFh6NlA0OEVQNEZhYXF1Mno1OWdcbitXa2gxWFZFWlBQUFA5cHJMUEltSTVaQi9SZGttN3NqUk9DK3lIV0U5UjhneWlqQk5GOE1wTHdXYXFFU055Vllcbk9IbEgraEkwMnZXZno3QlgrWEY2ME5ScXk1Wk5LeXdBMGlONW12M0lQUUtCZ1FEYld3UUpTcmh3TnZONnRCTUJcblpCWXV5MGw1R0xWZDBHYjVWU01WN1V5c2U2dFZpa2JDQkpFdlkzbU1zcndFZUU2ZDhnL21ZUm01cXVDTGc4NmVcbmJBMEhvVjRESkMzdHdIRnhEWk9SSVN6NFRVd3RLZ01oMit2S3JleVEyT29STEZRam1YdElrZFZyRzJ1UVVOYzJcbmJNYW5xRkgvYlhIUmlFTS92OS9SYUdqQkJRS0JnUURIZ3o4SEM4OUdSb09CMi9qdjdVa05CUlBCejBDbExldTJcbm5Mbk5EV0xJOFlHQlQ3dXY4cjRHUDZLY2JQYlpTa2VaRWlPeE5GdzdxVGpLUlBwcmtqZWFYcWhLUitXMEpJTTdcbjJZNklqQmppajRIeGwrTEpKdUpPTk91d1BiVmxUd2U2azFyNERrSGYydU1tZ0lIcWVySUcyZXczTzZSMmhEWDNcbjQ1cUpRODlEZ3dLQmdRQ05UL2t0czBGV3FVLzV3SUJ0NlBpUmRNMEVnbkowMllrOUh5ZlhQR1NreVpiN0tIV2xcbkVDUW9EMEdDN3JKSmZ1Zkd3T2FWV0FDbXAvcTRabFY1b2NwVEhCWGdtREl1ZEVlZ3VVcFR1TGVyenNCQWFFeFVcblI4V0RjTUJ5SUF2S3ZIQUg3eHlKQjhvaGtpeWRjRGIxRE9aOW8rWVBVNFo3b2ZrUTNKOW4zSWQvc1FLQmdRQ2pcbll1SXN2UWtqdmY5WVMzS1QyYmluUnU4bEdyc1FDb2tzWlREcnNmaWlJdFV4dHNBM21RenhSUS9BRnFRWTBuSExcbjgwVHppN08wMENKSDB6RlpBc2N5VGk1M2xtV1FudzR4NXpxSXJHSjh0NVZzNmp1NUMzVHRJdjJZdVJCaVJOUkpcbmdQOVFnU3lGVEZZVlk4d0E0RFlHMGxSVjd5d0NPc2VQbC84b1JqWG9UUUtCZ1FDRmxqY1Q5VEJSTVFtUCs0YUZcbkdlZnFlc3RUSExxbk1CdU1pTDlrd1V1UXdCR3hGWU1xNXUxUHdpUlFLNTd0TDJxUlBERG1tUnRTUVlZbnNLenVcbkplR0xpajNKczV2U1JUNjAwU0ZTdlNQMFAyd0kxMlMwRXh4T3FRYmk5S1V2WVlRTFptbjRlL25EQjc0Rzl1T3lcbmNFY25VbGxrRlUxT1dvdURTNXcyQkdla2NnPT1cbi0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS1cbiIsDQogICJjbGllbnRfZW1haWwiOiAiYWVvLXBjZjJwY2YtcHVic3ViLXNpdEBhZW8tY3VzdG9tZXItdGVzdC1ub25wcm9kLTk0NzkuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLA0KICAiY2xpZW50X2lkIjogIjEwMDE1OTEyMzg2NzQ0MjIzMTY0NiIsDQogICJhdXRoX3VyaSI6ICJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20vby9vYXV0aDIvYXV0aCIsDQogICJ0b2tlbl91cmkiOiAiaHR0cHM6Ly9vYXV0aDIuZ29vZ2xlYXBpcy5jb20vdG9rZW4iLA0KICAiYXV0aF9wcm92aWRlcl94NTA5X2NlcnRfdXJsIjogImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL29hdXRoMi92MS9jZXJ0cyIsDQogICJjbGllbnRfeDUwOV9jZXJ0X3VybCI6ICJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9yb2JvdC92MS9tZXRhZGF0YS94NTA5L2Flby1wY2YycGNmLXB1YnN1Yi1zaXQlNDBhZW8tY3VzdG9tZXItdGVzdC1ub25wcm9kLTk0NzkuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iDQp9"}'
    	;;
        
    perf)
    	cf create-user-provided-service $same_day_delivery_subscription -p '{"project_id":"aeo-pivotal-production","subscription_name":"same-day-delivery-subscription-perf","private_key":"ew0KICAidHlwZSI6ICJzZXJ2aWNlX2FjY291bnQiLA0KICAicHJvamVjdF9pZCI6ICJhZW8tY3VzdG9tZXItY29tbW9uLXByb2QtNDgwZCIsDQogICJwcml2YXRlX2tleV9pZCI6ICI5YTM5MDAxYzM1MDY0MjViNmFlMDgyM2RhNzZhY2VmODZmNDIyZDc2IiwNCiAgInByaXZhdGVfa2V5IjogIi0tLS0tQkVHSU4gUFJJVkFURSBLRVktLS0tLVxuTUlJRXZRSUJBREFOQmdrcWhraUc5dzBCQVFFRkFBU0NCS2N3Z2dTakFnRUFBb0lCQVFDUnhUWFQzMnJ6cEdPZVxua29hMGtWT3BJQVRRL1RySXBxV0RQaHR6ODJCZHkvelFac1JVRStyNC9WUi9MUG4rQ2xHMkR6aWJpU0FnTFJ1N1xuM1ZyZE1SeFVrVG9TVW1jVGwxT1A3VTZ2OEtpY1hhY25lV0NMRHRJRmFIZ1I1Ynh1WFRSekV1WmV1ejVDQWI2OFxuZGxNZ052Tk1EQUpnT0RMQmE1dzlBeGh6SUJsK0E4QWJ0WmxQd0hmSkxtNXRZVWxpdGNrUGV2Q2NEZVBxKzBFN1xuTGhySElhS0h2U0I2b050Vmo5WTdsQ1ordWtYUUFoTXRaQjl1YTZpRy9CUmk5RTRqY3FrSHBISXlkVE1HektaWFxuMjY2ajJaZUM3b05hOStqN3NMOVN0dmNKV1U3cEZlOWxEZFNnbko1dGFGK2VWQlk1ai85Y1BJVEEzek9OUWJjYlxuOUl4MzFUUzdBZ01CQUFFQ2dnRUFGbmlHejdQRko1Y3BIdGRmbWVqbjNma1M3Nm5acktJT2Z2NGlwVUV0NkhKUVxuU3AvM2xvUEEyUmtwaVdGRU9GRWNQNEIyZ3M0a3B2dk5KcXluY1NtU1FIRzlZMDJvbU1YZkduVEQzZGl2WlV0YVxubFNTS0tXV09JcDlKYmNPSWIwcnNQRUQ4Uk9ZckRCUjdjL251M29IRXNrTU5BQXJVYUNuNmhSS1JGazRySDloTFxuUkFwL2xJT0lwK2toejJ4ZVE0TkRXcUIvWWUvNlMrSjl5RXVLYjF4eHdFR2s2Tm1NUVlRbU94REtXb28wdWFSNFxuOEhYYS9IUThPUzg2TmtMNmNFNHhmV1BKVlVLSEZoT0JZTnBMWkYycjhvTnJPVldRcFhTY3UwVjJweU42bVIrR1xuS29GaCtSMGpJVUJiZjBqZk11UThRNFlOdzB1SW1jbDhYK21wTFRYT2dRS0JnUURERlVPQTN2TUszbzdwazJFOVxuWVZ5WGJUdVArOTBnQnZYS3ZFdFArN3FOSnB2MithOE5HaU1DK2NUd0ZhenpCbXVuK2hMd3dybHhHdVFWSVRma1xuSkNGQWorOXh2MDBDK3BLNmptS1dCMWdGVThZZzB3VkgvWmswNVBaUG9zKzVzdmJPeTk3RDdMZ21rcWw4ZzBoWFxuenBYSmlVWUdmQkVRdUxBQ044ZHlzeExMTVFLQmdRQy9TZkNyVFRiR21ZN1JrUWluU25VWXIyMlVoeEhQbFpVL1xuNU1rL2ZLekJ2WHUyelpQWjZZUTJQTXpQd0JKZ1RrM2hvZFJTVXc5cWlmbVNIMkQ0VzV0SmtFVnYvSGY3aHo2aFxubFRhekZVeXY4Z1V6OUVmc1hIV2RTTlg5OGpsbHVlY1BVTnZFL2RiN01JSTRzaUVyU0tvb1loZFZ1WUVzVXgwNVxuUTlkMVNucHJxd0tCZ1FDTkNwU1JXWjl5SGxKSXdVc3VhM1BiN3hkL0UrTmRRbXIyTm9oa3ZXUzBwRk5pamtablxuUEp4UGpIRTcrdy9kYktqcyt6b3lZelpiZGN1dEV5VXJob3ViOS9SdjBwVkZNQkJoWEl3ZVdCVGxWUm9McFVWT1xuTlNWTlByUnVBeElYK2pIQ2RWY0xZOXdIMTBVK1JsUkpWNHluOXQxdjFzY254YjlLK3pUeDBsSW1JUUtCZ0ZYQlxuREFkL2dnTGViRXcrdktaaWxzUU9RUTNJejQ5RCs3aTlGQXRHRlJ4MW1iU0Z6TFp3SFRsRFlIM3lHVXJiVDhiTFxuQ2FndVhFYml1K05wOWNyaEptaUFLT0RmU2RxVTh0cjFUYVJTOUNJY1dZREZEa2xEMmVZODlOSDNlUXZGbjNRYVxuUjZ1ME1HQkRpdDFuM2I3TndKcUIvdndMUVlGaGNVUnV5WFJuZ3lJcEFvR0FVeTFxbU50SkdNaFFLKzJDd0lqQlxuZUxWd0Y0eHZnYk9kZTc1RkZjMVlMdDlWanV3UGR5WlVpS2RFY2pnKzhPWUZYMzVrVlV3cUJjMmdQdnNsMU5OYVxucXkxTVBWd00zKy9oc2h0TkZ0ZEVQbUFnRENGNlpRSXQvVlRsclhQUTdqRy93NGtHc0g3TXhvOUE5NW1DaktoZVxuWk53Q29aK3pib2FZNkNlMXRmRUpMNnM9XG4tLS0tLUVORCBQUklWQVRFIEtFWS0tLS0tXG4iLA0KICAiY2xpZW50X2VtYWlsIjogImFlby1wY2YycGNmLXB1YnN1Yi1wZXJmQGFlby1jdXN0b21lci1jb21tb24tcHJvZC00ODBkLmlhbS5nc2VydmljZWFjY291bnQuY29tIiwNCiAgImNsaWVudF9pZCI6ICIxMTc1Njk4NjMwOTE2MTUzMjQzMTUiLA0KICAiYXV0aF91cmkiOiAiaHR0cHM6Ly9hY2NvdW50cy5nb29nbGUuY29tL28vb2F1dGgyL2F1dGgiLA0KICAidG9rZW5fdXJpIjogImh0dHBzOi8vb2F1dGgyLmdvb2dsZWFwaXMuY29tL3Rva2VuIiwNCiAgImF1dGhfcHJvdmlkZXJfeDUwOV9jZXJ0X3VybCI6ICJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9vYXV0aDIvdjEvY2VydHMiLA0KICAiY2xpZW50X3g1MDlfY2VydF91cmwiOiAiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vcm9ib3QvdjEvbWV0YWRhdGEveDUwOS9hZW8tcGNmMnBjZi1wdWJzdWItcGVyZiU0MGFlby1jdXN0b21lci1jb21tb24tcHJvZC00ODBkLmlhbS5nc2VydmljZWFjY291bnQuY29tIg0KfQ=="}'
    	;;
    	
    prod)
    	cf create-user-provided-service $same_day_delivery_subscription -p '{"project_id":"aeo-pivotal-production","subscription_name":"same-day-delivery-subscription-prod","private_key":"ew0KICAidHlwZSI6ICJzZXJ2aWNlX2FjY291bnQiLA0KICAicHJvamVjdF9pZCI6ICJhZW8tY3VzdG9tZXItY29tbW9uLXByb2QtNDgwZCIsDQogICJwcml2YXRlX2tleV9pZCI6ICI3OTMwNmYwYmNmY2RjMzI2MjQzZjQwMDMyYjhkZDJiZmNmMDc2NDYxIiwNCiAgInByaXZhdGVfa2V5IjogIi0tLS0tQkVHSU4gUFJJVkFURSBLRVktLS0tLVxuTUlJRXZBSUJBREFOQmdrcWhraUc5dzBCQVFFRkFBU0NCS1l3Z2dTaUFnRUFBb0lCQVFDcjAreVBudEtZYzRXZVxueVpVcjNOSHk4OU1wMWVnUlVtN3NzaGpGY0ZML3d6TTN2eTdoNHpieTZITmo3NE9nV3pKc3BLU3haRnhuOUMzMVxuTjlMLy84eWFvTWNLRmZIbHZFbmcxK1hHMDQrOUtUWjA2MFFSb1J1dTkrTjF6ZHNya2taWG9CRkEyUXVOV3ZkT1xubFZuMlJ0bnU0MXV6VmhBb0VrTkV5RWdxZVFhYkpaTklXYmVmL1pMMHo4eldMdkV6eXdxUjNWKzBoR09EYTRTTFxuOWhEcVdzUzhXcFVOb1VrRVJ0MVkxVlVUVVRseEZFL0pjLzQ3TjFDaXNPZS8yRHJWSGdndU0zMWF3dVlvUVk0cFxuakhTclNXVHB5OWpYZ1dOY2VCOEhKMkNXWTJhVks5OWQyQjd0TTNMT1ptZFh2TUdmWk5ta0FVRHdZWjhaZHVhRlxuaFJzUllCLy9BZ01CQUFFQ2dnRUFSTWdPZCtkQnNkajhjZldMaXdWWDNZTVEwanhZS3lidVZEMXVnUXBYang0YVxuVUlSdFJlcm9RaEFlc0xCZDVrRGJUSFlUbnhibmpvMUdJRlQ2VjVPVDJZbm1ZdmtwM2FhamhDZW9TUkREQnh1S1xuT3Y4NlBqeFprbzZVTk1IMHE5cGY0ZytuR0doSm9ZbjZXVENiMUdQRU5VWTVuTzRraFlYWis1eVlscmZmbHhhb1xuN05jMks5Z3JsL2lVZmtWeTZvMEVhN1BMMXNudEU1cHM0bmVtS1JtMGpVbW9IYnhMRWg2Vk9KeU93YXcyblRUMFxuYzJyd2RpRlo3cHNJWm1zOURIaUV4M0tZa3NVWHlDbDFpb3FUTTl3STZEZVpTRXdkNk1kemtiR1gzQU56VDJOZVxuRVB6TzZjZ3RhY29wT0puMVBGTWRkRUc2TVdoNERGRy85dk0vTGNmdnNRS0JnUURsUFNiZ3NiVjBwNU9NV2Jrc1xuY0JtczRjMEc5bVc5VDJjS0pzcElzSlNXbFEvajMyYlBmM3ZTSXFzU3htK1dFZXJMcDM5NEM1ZEl5TVVmc3FjQ1xualk3OHlQeXBmbjh1MGxLYjQwSldoQ2ZqbHN5K2pKc3RGUjZUYTRrM2FtZHJVd1J6R2F5OEZJamR0YjNsZXFLMlxuaVZQZ3lwc2VmNWtDaFRPcXA4VWpNaS9LT3dLQmdRQy80d2d2a0swdVhNN1dSS21YNEVrUE9VaUtJalFVY0JnNVxuWldGb1pENWpBN0Q4RjJqUm9lVlcwN1NvWThQVlhBc3d5dm15ZjNnM1VQR1diUS9HQXlnMzg4VWFrMUNEZ2JkMlxub3ZRWFFsMHkrMXljcFRWdG1ZVnFWeDlkanZERUdKMnQvck4vQ3N0QzJudDQ5T2FLV2dBWG9oUEZGTkNQYXMrc1xuUm52a2xFL2hEUUtCZ0hDZnVLZ1A1dnhuRUVDV0hEbk80VzVraVZ4d1ZjL0tZTzlGMjRBVzhRbUNOb3BYeWFVTVxuRndOSWNSQUtXZXc2NVVZbEJxVXQzS2V2cTlsRTVuU0VvOGxoM1hCUWE1L1BTVEs1Vm5BM0FYbjVMcUkzWmsyaFxuNEtIQTVXdEtaWUQvQ21LYUxKbEM1WE0zeFJJblRDV3VGbjJNVE9XUS90V1VKNndpUE9KcjE3cmRBb0dBVGFtNFxuM1crRCtGak55a0UrRnQ5TEVxTlByY0RNTFYxMUlIM2MzK0I2czU2QjJuWXJFWFdpR2ZOVGtqZld3aHNmMkY2K1xua3pVdVZjMG9Db2NYdEVBQTNpeUdvUXZ3c1ZrbUJSbE5DOERyY2IvMHF0M2U4djRJMXBKdWVuSnBGaVVVWktES1xueTJkMS94Zm9rM3NqZCttWFVmbGlZUWpjcEw5SlVHT3lyMEFyMkYwQ2dZQU05ZjJpWHZGZlR0L0xmOUF4VXJadlxuQWdsLzRZQVRpRUdDdWRKSjErcXMvK05HcmxSUU54OWxuWlVuVUN3Qk9PMFZMS1ZGTGVuUEs2ZWk4SzVzNGc0T1xuR0dzUFBtY3A4eis5a0czRm05SEFNaXhlZWVEZTMwYW0xejZiOUJKUlNlUk9WWXFmN2Y4VGx6MWFLblIydHAyUVxuQTNqWmhVZXpJRkU1MnVCUkxrbVNQdz09XG4tLS0tLUVORCBQUklWQVRFIEtFWS0tLS0tXG4iLA0KICAiY2xpZW50X2VtYWlsIjogImFlby1wY2YycGNmLXB1YnN1Yi1wcm9kQGFlby1jdXN0b21lci1jb21tb24tcHJvZC00ODBkLmlhbS5nc2VydmljZWFjY291bnQuY29tIiwNCiAgImNsaWVudF9pZCI6ICIxMDU1OTYxNjIwMjk0ODQwMjA3NDciLA0KICAiYXV0aF91cmkiOiAiaHR0cHM6Ly9hY2NvdW50cy5nb29nbGUuY29tL28vb2F1dGgyL2F1dGgiLA0KICAidG9rZW5fdXJpIjogImh0dHBzOi8vb2F1dGgyLmdvb2dsZWFwaXMuY29tL3Rva2VuIiwNCiAgImF1dGhfcHJvdmlkZXJfeDUwOV9jZXJ0X3VybCI6ICJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9vYXV0aDIvdjEvY2VydHMiLA0KICAiY2xpZW50X3g1MDlfY2VydF91cmwiOiAiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vcm9ib3QvdjEvbWV0YWRhdGEveDUwOS9hZW8tcGNmMnBjZi1wdWJzdWItcHJvZCU0MGFlby1jdXN0b21lci1jb21tb24tcHJvZC00ODBkLmlhbS5nc2VydmljZWFjY291bnQuY29tIg0KfQ=="}'
    	;;

    *)
        echo -n "Invalid Env Name, $same_day_delivery_subscription Service not set."
        ;;
    esac
    
else

  	case $1 in

    dev)
    	cf update-user-provided-service $same_day_delivery_subscription -p '{"project_id":"pivotal-sandbox-243614","subscription_name":"same-day-delivery-subscription-dev","private_key":"ew0KICAidHlwZSI6ICJzZXJ2aWNlX2FjY291bnQiLA0KICAicHJvamVjdF9pZCI6ICJhZW8tY3VzdG9tZXItdGVzdC1ub25wcm9kLTk0NzkiLA0KICAicHJpdmF0ZV9rZXlfaWQiOiAiMjJkNGU5OGYxZmY5YjdiZjI4ZGY5M2I5N2M5MTJjZWIzZWFkOTk4MiIsDQogICJwcml2YXRlX2tleSI6ICItLS0tLUJFR0lOIFBSSVZBVEUgS0VZLS0tLS1cbk1JSUV2d0lCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktrd2dnU2xBZ0VBQW9JQkFRQ1RzZnlQZ2Nsdlh3WmNcbkNkby9NTm9JWXZvMGc4aDFDUjdrUHdsOFpwczFENVNIZVFWTWFNL0F4TGpTRnBlVEZySVpxcGtKQjd2NkNoaUhcbmJlZEw4UEwvbDBkRGZoRGVaZUN3U3lFZHJlRUF1RWgxUkRLaXpGZGpxcDQ3QXpXZThNNFpTa0lYMlNjYmxsamFcbk80M1lDK2R4V0Z5Z0k1cGxDaEIzWXBNcjZQQ3hoQWxJRUJNeHFhM0Z3ZlNBdEkwbk80Zk9Sd0JnMXh6MFpwVFRcbmwvSXBrMUtWNXBsdVA5WUZvbEExaTUvL1VzT2E0ekIrOCtxUXBRV1JCZzlIS2F6MS9Iak83VXZMYTk0cmVmS3hcbkJEQ2VlNTZ1ZmhiODRrYXovWGZrQ1ErU1BYREFIZVpDeUo4Lzdtbi9iWFlzdWFUaHk1TmV1NWUrWEZ6cU93bnpcblBJdkljd2liQWdNQkFBRUNnZ0VBQmNvR3Q4dE51Q29BaDZWZE9DS0pPL3RCTlJqQW5UeHljN09OZ3N6MHpYak5cbnMzSmVHa3pMYnBJU0dvTmNoVWZ3OVlwQjB3cjB1OHdmTFFQS1QvMk5waVlVV3RsbC9qUlR3U1ZEYURTVGFyZE9cbmVSdVNEb2sxbUYyczNteEs4dTdHYlZNRFVkMm0vUEVBNGtENUFqRytseXRGcWkzckZJWE1vbTZyTjhxUUpnSm9cbmY1NzFJa0lBRDA4dUE4eEFIQXlKUnhtc2s1dFRUYnZSZXk5S0RORlBMdk55ZW5mMitCZC9UV1c4T3JtN0NOa0FcbjBqRzhtaGNabWNTVFRqRE5ERm1jZU1oVXRMbnd3aVVTeGpOVVBmQUozSjM5NCtQVEZtbVAzaDM2SlFwRHhVQUJcbmNUWEJZYXE2czkvUlZpY3prYzNuRmZJaWpsWUlzSFk4eG9KT01LemVRUUtCZ1FERGpSVG9IUGZtSkdxb2NUb3FcbjVtRmJTSGNVSmtMbXU5WGU3d05RTXRJalA1VHpIKytUcmlidWltKzFQL1NkTEEzZFBvMWtEbXd5VUtoczBaZHhcbjdhTGsyN0ZBS3E0MDdHdFlBclkvZzdZTTVVa1o2YWZrdG1ObndJZFluRC9vWFZzL0ViV3JlaEIzMGZwZ05vWHFcbldjSVYxMFJBMTZ4Z0Fza29wRHExeXZWK3dRS0JnUURCV2RaZXFpWVFQNnUwN3lWOGFwdzR3QXlsUXlSOVZobm1cbkpJeXJoUzFnenAvRlBhMDJHRkhtNHN2bHB3RithK2dDc1hBaEcvUmthZXZpN1VmbGd6b0ZjOVBGNVdmczFvQldcbktCY3Z2cjZkRUplTU9mQ09jbWFIandqV3hCOGFQMmVkV3FUbitLNDVSWmozb3MxK0VxRFlnNEg4WWcyRFBiQWJcbnUzM09EWWQ2V3dLQmdRQzZVYk1JMFlrVmU3OHdET29hTS9XeER1TitqRklVSEFaVDZqR2krVGtsSXBDZDhlRElcbk9oZVlFc2tLemd3WXNQL292SS9sTktTOGNBTjU0MTFEek9MMjRhZ0o5bUNUeG1za3FUalNYWUZZMmlJRGtaQkpcbnA4b2c4ZDFEZldTYTFsQjVVRHRqVGVOZzl1MXpQSi90d1dYZWY0UGxzRmpxQmQxNlhyZ2R2R3FhUVFLQmdRQ1BcbkdXWkcrYmJpSDcxOVUrRnlpNVREaTUvUVVEa1phamdRMU13bnhaRW9MTVNpdmxzTHhrUVhsWk5DaksvV1dSYUZcbnA3MU5ROXRFMWYvM0c1WXlqMFRKOUVld0YzRXJJRFlyamRCYlRkalZkZ296aGs0N252K3pKSEZ1UWdpaTdIcExcblEyTDVMRndGbHpUM1VrNjBHQ1ZqR1RHREVTN2ZDekRqMVlmdWtLVE1NUUtCZ1FDdkxvMS9ycExhOWhJWHNkL1RcbnVwSTdTWDRXeEVsN3hyR3VDV0hBVitrNXV0REFMbjlrVitqRXN6NlY5TU5JaDJrTkcxQ0VnbzZxWWMzclhUaWtcbjVYRG9seHdYMDlTWTg1c1dUU1BRVTEvQ0JWZWVHRFhmTmZralVuWDBpc2d4MmUwbUdJSkZ3VmhqVzZhdTlwcEFcbkFlb0pBdGZGM21pelJQbnA4bGY4bm9iQzFRPT1cbi0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS1cbiIsDQogICJjbGllbnRfZW1haWwiOiAiYWVvLXBjZjJwY2YtcHVic3ViLWRldkBhZW8tY3VzdG9tZXItdGVzdC1ub25wcm9kLTk0NzkuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLA0KICAiY2xpZW50X2lkIjogIjExNDM4MDU3NDg3OTA3MzI2NzUyNiIsDQogICJhdXRoX3VyaSI6ICJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20vby9vYXV0aDIvYXV0aCIsDQogICJ0b2tlbl91cmkiOiAiaHR0cHM6Ly9vYXV0aDIuZ29vZ2xlYXBpcy5jb20vdG9rZW4iLA0KICAiYXV0aF9wcm92aWRlcl94NTA5X2NlcnRfdXJsIjogImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL29hdXRoMi92MS9jZXJ0cyIsDQogICJjbGllbnRfeDUwOV9jZXJ0X3VybCI6ICJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9yb2JvdC92MS9tZXRhZGF0YS94NTA5L2Flby1wY2YycGNmLXB1YnN1Yi1kZXYlNDBhZW8tY3VzdG9tZXItdGVzdC1ub25wcm9kLTk0NzkuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iDQp9"}'
    	;;

    qa)
    	cf update-user-provided-service $same_day_delivery_subscription -p '{"project_id":"pivotal-sandbox-243614","subscription_name":"same-day-delivery-subscription-qa","private_key":"ew0KICAidHlwZSI6ICJzZXJ2aWNlX2FjY291bnQiLA0KICAicHJvamVjdF9pZCI6ICJhZW8tY3VzdG9tZXItdGVzdC1ub25wcm9kLTk0NzkiLA0KICAicHJpdmF0ZV9rZXlfaWQiOiAiYTUxNTA5NTZiMzcwMTE3MGU2ZmVmYWQ5ZTY4MGY5OWI0M2RjNGM2ZSIsDQogICJwcml2YXRlX2tleSI6ICItLS0tLUJFR0lOIFBSSVZBVEUgS0VZLS0tLS1cbk1JSUV2Z0lCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktnd2dnU2tBZ0VBQW9JQkFRQzZvRUVySTVYcHE5eUZcbm1hNmZaekRkZ1FzSDgxQ1p4Z0xkb0NlTzBsdU5ubG9la0ZuTEdQSWwzMVFKY0ZReTRPODZGYi9xbllZWGhJa0FcbndYZ3Z0Y0JScm9GZ2tveWU4NTNNRzNTOExEUlpzSEhIeHV0dmlzdDNoc0N4c2dyUkxmZmVHSnpIRDFLVTRFa21cblFlcjQwdjN0dXZYakJBMVVVRXFQUzNTOThBR2kvUDNpZVI4OE0zc3ZUSmxGWllSNkRZMHpaNGlHejZUTlY5REVcbnF0R3U1L2tiTFJpblFIa25CanJ6dVNRSjd1OEtyZjdXUVVYSWRBNDRBZFJmaVQwektrRVY4VXJxNER0dVJheFNcbmJNa3JKdVFaM1VVc3JXYWJ4THUvMnFlL2tYU0VWMEJrbXNNeExiNUhraGVsUTE1RkRiK0Ruc3FWdThOM3dhVWJcblRxS1ZDOXR6QWdNQkFBRUNnZ0VBTVVZeG5xbTVJYWFpUlZZRDBJdUd6OTBMNUEvK2huTk0rMllYTzdMWHdHY0FcblpWUjRtTktmMEpjTUVhZnFXenFmZnljUjhtaWY2R0t5WjVRdFh1OXVkVUtOWDBtaVBpK1ZTTGd4RktQWk9Kc0pcbkY1V3lRTk9WRUJ4d2tSb3dsL1U2bmhYQ2d4NU5FQWk5MTQrTThpQ0hNZmJzaUFGZ1laUUhjNWtaSERNYnc0UHpcbjZKcmhZVU00RGRBR1IrZFN2MEdLK1FML3cvWXVSVVZvRkx1TXlTZEI1aU9JcFA0QzZjSHMvR2NicVRXNjVPUlNcbmwxck9tNnZ2NXBLUExxaWg0MFlEUmdkSGN6cjBMVVc4aklKTHgyNmtGbXI2Z29Cek52ZFJIMVM2ZUlHVC90YnZcbnZUbzk4aU1rbXVqQTFnNms3dTlZZUVxc1BGeVdTY0tMYVRsU1k3ajNRUUtCZ1FEcmRpb3NUanFoL3FmY3BKek9cbnoxRUVqekJwMlRpWXVXZlpXTGRwMEQyZzczNkJseWJlaVpTNm1EaEU4NzJzSU95UFNSekN4ODh4eU9aSmgvNXRcbk5VNWI2OEpzVktoLy93Qm5RSllXMzdyam1pM051MWFpWjM0VnN1Qkx4QkZJS2x6eWdrRGY5bG56VTZ5dGFaMG5cblNQQzRuUFhsNkFzVWJBQWt4RVZYdDJWM013S0JnUURLNTVpQVFQZ0Z5Y1IyY1c2YmswaFhHY0p6d1d4UkVQWUZcbkM2aFlOc2d2UGgzL1VocXZkTzR6eUZxZWFoUjRLRXdHZWc4WTBrRXFlN2g4OURQS0ZTSHE4dXF1V1RwZDgzWmtcbkRiU3hxWmRmVDBpWm9qRU5NZkFjOStBamZpakg3U0phTU9HelNoUlBFWTNnNTNBcmZ0MWhyOGJXVzFEZzVoN2lcbkJuOTRoWWNLd1FLQmdRQzFERzd4RWxYVEtkUTR1L28ycXdKSTF6RUtzcFBxR3VYWElYZ21USkNXcHBCSFpNbm1cbll6T1JKbXBkMm0wRlpXdC80Vi9VQlg4emNKNWgrOGVPZ1daM0Y1aXZZNGtNb2k3Vk5id3lhbVZ4aktPYmhXamdcbkIyUFRtMjhMMHY3VzFud1JuRVgxNzU3S2twUTc0dkdMdTNJZEFkT3hxL0taQ1ZJeTh4ZStrcTNhTVFLQmdRQ3JcbndKemJPNk4ycXRNdGUxa29RZVRETGQvbXdqemc1aDJLS2RNSFVOL2s5WXpJMmdRU3IwVU8raktTMDdLZC8yWlRcbk9URGNUdVd3ZzJlb0JjSnM5YlJ2UDg2ZFpKUStnTjZmVk9hMldKcjBwNVVKenp2OE1tQlE5UlY2bGNrSmF0WmdcblIrNVZLSWpHWVZLYXBPM1RNNkZMbGxJV2t0ZUVkK1orWndleHlqMkVRUUtCZ0ZrNUFSdDAzWXFCL1FWWENPcDlcbmhNaUZLUmx3S0NWa3hYcFFwWU9QTzhhUWROZzhCczlleTBCLzdhdk1IS1V0VDEyK2VyQnRFd2JFSmVmTTVwK3Ncbi83M054ZEFQMnk0WndTdFZZdDZWZVl2RkV6Y2VPczI2cmx2dlRiOXZna2hSR3ZicEV5Y2xmZnEzUmd6RHdxTUVcblRCaHRwdGdwTEZ4RTg3b0dQc3YvY0RPNFxuLS0tLS1FTkQgUFJJVkFURSBLRVktLS0tLVxuIiwNCiAgImNsaWVudF9lbWFpbCI6ICJhZW8tcGNmMnBjZi1wdWJzdWItcWFAYWVvLWN1c3RvbWVyLXRlc3Qtbm9ucHJvZC05NDc5LmlhbS5nc2VydmljZWFjY291bnQuY29tIiwNCiAgImNsaWVudF9pZCI6ICIxMTYwNDQ0MDA4NDI2MjMzMjAwOTIiLA0KICAiYXV0aF91cmkiOiAiaHR0cHM6Ly9hY2NvdW50cy5nb29nbGUuY29tL28vb2F1dGgyL2F1dGgiLA0KICAidG9rZW5fdXJpIjogImh0dHBzOi8vb2F1dGgyLmdvb2dsZWFwaXMuY29tL3Rva2VuIiwNCiAgImF1dGhfcHJvdmlkZXJfeDUwOV9jZXJ0X3VybCI6ICJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9vYXV0aDIvdjEvY2VydHMiLA0KICAiY2xpZW50X3g1MDlfY2VydF91cmwiOiAiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vcm9ib3QvdjEvbWV0YWRhdGEveDUwOS9hZW8tcGNmMnBjZi1wdWJzdWItcWElNDBhZW8tY3VzdG9tZXItdGVzdC1ub25wcm9kLTk0NzkuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iDQp9"}'
    	;;

    sit)
    	cf update-user-provided-service $same_day_delivery_subscription -p '{"project_id":"pivotal-sandbox-243614","subscription_name":"same-day-delivery-subscription-sit","private_key":"ew0KICAidHlwZSI6ICJzZXJ2aWNlX2FjY291bnQiLA0KICAicHJvamVjdF9pZCI6ICJhZW8tY3VzdG9tZXItdGVzdC1ub25wcm9kLTk0NzkiLA0KICAicHJpdmF0ZV9rZXlfaWQiOiAiOGUyZTZiZmY2YjhhNGI0MGQwYjY1YzI2MGFkNzVlNTEwMmRlNGJjNSIsDQogICJwcml2YXRlX2tleSI6ICItLS0tLUJFR0lOIFBSSVZBVEUgS0VZLS0tLS1cbk1JSUV2d0lCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktrd2dnU2xBZ0VBQW9JQkFRQ3E5RFczdVhDRlBJcHhcblpvaXduU2ZKVE5JL01STmdMbUFPVW5IaCtKa0w0VXR0SDNJOWVtekQxYXhLOHQ3N0RIclA3dVUrVERUVTYvWEhcbnN3amZFblhjZUlYbmc4cGl6eGdJYUszcWgzWnhLQi9FRkRxanJCaGx3SHNJd1JmS2lDZWgxaUlLMmh1RE5tbjBcbmRvWlB0Nk91YlZKZ2h2VUdHN1BHcmZFOUdhMklBVUZVWVVLU3BIS0MrZHdPVW42VVhKVGh1eHBpdzkyK0JyVllcblRQQUthQkQ1b1ZyMmxqdG11cTdHRUVXTTF1NThMY1N0bUNwcXI1Ri82MEZoa0wrT0UyUjdTV2hBd2VJZmdOTkpcbjQ1bW9WV3poVGdJc2RxTGJpUWxIcDJwWDJaeEJxY0ZsKzBVaDFKZjA0aFlaMm1rT2grdWtHVnlXdHpZSTJuNEZcbmUyRTZLaFNQQWdNQkFBRUNnZ0VBUnMzWmw4d1N1ZVErdE1RU1ZnL3BCQnN3c3lKNDAydXh0Z3pZaFE2SkdONEpcbmR0dEEzZ3lnRXFZamMzRlBBQ3lGaXl4M1B3dWlFQlBnbW9MZzZEOUZtSGhFZ1lSWXBQOEFCYStSWktNUlg4R09cbkVwQ01UdkMrdEJuNSswQzZRVlNPRVozV1FLZGdJTUsvTkpTSWdXamVQcWFocVVBTUtLajlsd3JBOFJ6Ni9lcFZcbnI3ZEcrQld3bkJtOXhoZWpkenptRUdiUVloVHpobFdoclBFNHY2dW1wUkEzRFh6NlA0OEVQNEZhYXF1Mno1OWdcbitXa2gxWFZFWlBQUFA5cHJMUEltSTVaQi9SZGttN3NqUk9DK3lIV0U5UjhneWlqQk5GOE1wTHdXYXFFU055Vllcbk9IbEgraEkwMnZXZno3QlgrWEY2ME5ScXk1Wk5LeXdBMGlONW12M0lQUUtCZ1FEYld3UUpTcmh3TnZONnRCTUJcblpCWXV5MGw1R0xWZDBHYjVWU01WN1V5c2U2dFZpa2JDQkpFdlkzbU1zcndFZUU2ZDhnL21ZUm01cXVDTGc4NmVcbmJBMEhvVjRESkMzdHdIRnhEWk9SSVN6NFRVd3RLZ01oMit2S3JleVEyT29STEZRam1YdElrZFZyRzJ1UVVOYzJcbmJNYW5xRkgvYlhIUmlFTS92OS9SYUdqQkJRS0JnUURIZ3o4SEM4OUdSb09CMi9qdjdVa05CUlBCejBDbExldTJcbm5Mbk5EV0xJOFlHQlQ3dXY4cjRHUDZLY2JQYlpTa2VaRWlPeE5GdzdxVGpLUlBwcmtqZWFYcWhLUitXMEpJTTdcbjJZNklqQmppajRIeGwrTEpKdUpPTk91d1BiVmxUd2U2azFyNERrSGYydU1tZ0lIcWVySUcyZXczTzZSMmhEWDNcbjQ1cUpRODlEZ3dLQmdRQ05UL2t0czBGV3FVLzV3SUJ0NlBpUmRNMEVnbkowMllrOUh5ZlhQR1NreVpiN0tIV2xcbkVDUW9EMEdDN3JKSmZ1Zkd3T2FWV0FDbXAvcTRabFY1b2NwVEhCWGdtREl1ZEVlZ3VVcFR1TGVyenNCQWFFeFVcblI4V0RjTUJ5SUF2S3ZIQUg3eHlKQjhvaGtpeWRjRGIxRE9aOW8rWVBVNFo3b2ZrUTNKOW4zSWQvc1FLQmdRQ2pcbll1SXN2UWtqdmY5WVMzS1QyYmluUnU4bEdyc1FDb2tzWlREcnNmaWlJdFV4dHNBM21RenhSUS9BRnFRWTBuSExcbjgwVHppN08wMENKSDB6RlpBc2N5VGk1M2xtV1FudzR4NXpxSXJHSjh0NVZzNmp1NUMzVHRJdjJZdVJCaVJOUkpcbmdQOVFnU3lGVEZZVlk4d0E0RFlHMGxSVjd5d0NPc2VQbC84b1JqWG9UUUtCZ1FDRmxqY1Q5VEJSTVFtUCs0YUZcbkdlZnFlc3RUSExxbk1CdU1pTDlrd1V1UXdCR3hGWU1xNXUxUHdpUlFLNTd0TDJxUlBERG1tUnRTUVlZbnNLenVcbkplR0xpajNKczV2U1JUNjAwU0ZTdlNQMFAyd0kxMlMwRXh4T3FRYmk5S1V2WVlRTFptbjRlL25EQjc0Rzl1T3lcbmNFY25VbGxrRlUxT1dvdURTNXcyQkdla2NnPT1cbi0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS1cbiIsDQogICJjbGllbnRfZW1haWwiOiAiYWVvLXBjZjJwY2YtcHVic3ViLXNpdEBhZW8tY3VzdG9tZXItdGVzdC1ub25wcm9kLTk0NzkuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLA0KICAiY2xpZW50X2lkIjogIjEwMDE1OTEyMzg2NzQ0MjIzMTY0NiIsDQogICJhdXRoX3VyaSI6ICJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20vby9vYXV0aDIvYXV0aCIsDQogICJ0b2tlbl91cmkiOiAiaHR0cHM6Ly9vYXV0aDIuZ29vZ2xlYXBpcy5jb20vdG9rZW4iLA0KICAiYXV0aF9wcm92aWRlcl94NTA5X2NlcnRfdXJsIjogImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL29hdXRoMi92MS9jZXJ0cyIsDQogICJjbGllbnRfeDUwOV9jZXJ0X3VybCI6ICJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9yb2JvdC92MS9tZXRhZGF0YS94NTA5L2Flby1wY2YycGNmLXB1YnN1Yi1zaXQlNDBhZW8tY3VzdG9tZXItdGVzdC1ub25wcm9kLTk0NzkuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iDQp9"}'
    	;;
        
    perf)
    	cf update-user-provided-service $same_day_delivery_subscription -p '{"project_id":"aeo-pivotal-production","subscription_name":"same-day-delivery-subscription-perf","private_key":"ew0KICAidHlwZSI6ICJzZXJ2aWNlX2FjY291bnQiLA0KICAicHJvamVjdF9pZCI6ICJhZW8tY3VzdG9tZXItY29tbW9uLXByb2QtNDgwZCIsDQogICJwcml2YXRlX2tleV9pZCI6ICI5YTM5MDAxYzM1MDY0MjViNmFlMDgyM2RhNzZhY2VmODZmNDIyZDc2IiwNCiAgInByaXZhdGVfa2V5IjogIi0tLS0tQkVHSU4gUFJJVkFURSBLRVktLS0tLVxuTUlJRXZRSUJBREFOQmdrcWhraUc5dzBCQVFFRkFBU0NCS2N3Z2dTakFnRUFBb0lCQVFDUnhUWFQzMnJ6cEdPZVxua29hMGtWT3BJQVRRL1RySXBxV0RQaHR6ODJCZHkvelFac1JVRStyNC9WUi9MUG4rQ2xHMkR6aWJpU0FnTFJ1N1xuM1ZyZE1SeFVrVG9TVW1jVGwxT1A3VTZ2OEtpY1hhY25lV0NMRHRJRmFIZ1I1Ynh1WFRSekV1WmV1ejVDQWI2OFxuZGxNZ052Tk1EQUpnT0RMQmE1dzlBeGh6SUJsK0E4QWJ0WmxQd0hmSkxtNXRZVWxpdGNrUGV2Q2NEZVBxKzBFN1xuTGhySElhS0h2U0I2b050Vmo5WTdsQ1ordWtYUUFoTXRaQjl1YTZpRy9CUmk5RTRqY3FrSHBISXlkVE1HektaWFxuMjY2ajJaZUM3b05hOStqN3NMOVN0dmNKV1U3cEZlOWxEZFNnbko1dGFGK2VWQlk1ai85Y1BJVEEzek9OUWJjYlxuOUl4MzFUUzdBZ01CQUFFQ2dnRUFGbmlHejdQRko1Y3BIdGRmbWVqbjNma1M3Nm5acktJT2Z2NGlwVUV0NkhKUVxuU3AvM2xvUEEyUmtwaVdGRU9GRWNQNEIyZ3M0a3B2dk5KcXluY1NtU1FIRzlZMDJvbU1YZkduVEQzZGl2WlV0YVxubFNTS0tXV09JcDlKYmNPSWIwcnNQRUQ4Uk9ZckRCUjdjL251M29IRXNrTU5BQXJVYUNuNmhSS1JGazRySDloTFxuUkFwL2xJT0lwK2toejJ4ZVE0TkRXcUIvWWUvNlMrSjl5RXVLYjF4eHdFR2s2Tm1NUVlRbU94REtXb28wdWFSNFxuOEhYYS9IUThPUzg2TmtMNmNFNHhmV1BKVlVLSEZoT0JZTnBMWkYycjhvTnJPVldRcFhTY3UwVjJweU42bVIrR1xuS29GaCtSMGpJVUJiZjBqZk11UThRNFlOdzB1SW1jbDhYK21wTFRYT2dRS0JnUURERlVPQTN2TUszbzdwazJFOVxuWVZ5WGJUdVArOTBnQnZYS3ZFdFArN3FOSnB2MithOE5HaU1DK2NUd0ZhenpCbXVuK2hMd3dybHhHdVFWSVRma1xuSkNGQWorOXh2MDBDK3BLNmptS1dCMWdGVThZZzB3VkgvWmswNVBaUG9zKzVzdmJPeTk3RDdMZ21rcWw4ZzBoWFxuenBYSmlVWUdmQkVRdUxBQ044ZHlzeExMTVFLQmdRQy9TZkNyVFRiR21ZN1JrUWluU25VWXIyMlVoeEhQbFpVL1xuNU1rL2ZLekJ2WHUyelpQWjZZUTJQTXpQd0JKZ1RrM2hvZFJTVXc5cWlmbVNIMkQ0VzV0SmtFVnYvSGY3aHo2aFxubFRhekZVeXY4Z1V6OUVmc1hIV2RTTlg5OGpsbHVlY1BVTnZFL2RiN01JSTRzaUVyU0tvb1loZFZ1WUVzVXgwNVxuUTlkMVNucHJxd0tCZ1FDTkNwU1JXWjl5SGxKSXdVc3VhM1BiN3hkL0UrTmRRbXIyTm9oa3ZXUzBwRk5pamtablxuUEp4UGpIRTcrdy9kYktqcyt6b3lZelpiZGN1dEV5VXJob3ViOS9SdjBwVkZNQkJoWEl3ZVdCVGxWUm9McFVWT1xuTlNWTlByUnVBeElYK2pIQ2RWY0xZOXdIMTBVK1JsUkpWNHluOXQxdjFzY254YjlLK3pUeDBsSW1JUUtCZ0ZYQlxuREFkL2dnTGViRXcrdktaaWxzUU9RUTNJejQ5RCs3aTlGQXRHRlJ4MW1iU0Z6TFp3SFRsRFlIM3lHVXJiVDhiTFxuQ2FndVhFYml1K05wOWNyaEptaUFLT0RmU2RxVTh0cjFUYVJTOUNJY1dZREZEa2xEMmVZODlOSDNlUXZGbjNRYVxuUjZ1ME1HQkRpdDFuM2I3TndKcUIvdndMUVlGaGNVUnV5WFJuZ3lJcEFvR0FVeTFxbU50SkdNaFFLKzJDd0lqQlxuZUxWd0Y0eHZnYk9kZTc1RkZjMVlMdDlWanV3UGR5WlVpS2RFY2pnKzhPWUZYMzVrVlV3cUJjMmdQdnNsMU5OYVxucXkxTVBWd00zKy9oc2h0TkZ0ZEVQbUFnRENGNlpRSXQvVlRsclhQUTdqRy93NGtHc0g3TXhvOUE5NW1DaktoZVxuWk53Q29aK3pib2FZNkNlMXRmRUpMNnM9XG4tLS0tLUVORCBQUklWQVRFIEtFWS0tLS0tXG4iLA0KICAiY2xpZW50X2VtYWlsIjogImFlby1wY2YycGNmLXB1YnN1Yi1wZXJmQGFlby1jdXN0b21lci1jb21tb24tcHJvZC00ODBkLmlhbS5nc2VydmljZWFjY291bnQuY29tIiwNCiAgImNsaWVudF9pZCI6ICIxMTc1Njk4NjMwOTE2MTUzMjQzMTUiLA0KICAiYXV0aF91cmkiOiAiaHR0cHM6Ly9hY2NvdW50cy5nb29nbGUuY29tL28vb2F1dGgyL2F1dGgiLA0KICAidG9rZW5fdXJpIjogImh0dHBzOi8vb2F1dGgyLmdvb2dsZWFwaXMuY29tL3Rva2VuIiwNCiAgImF1dGhfcHJvdmlkZXJfeDUwOV9jZXJ0X3VybCI6ICJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9vYXV0aDIvdjEvY2VydHMiLA0KICAiY2xpZW50X3g1MDlfY2VydF91cmwiOiAiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vcm9ib3QvdjEvbWV0YWRhdGEveDUwOS9hZW8tcGNmMnBjZi1wdWJzdWItcGVyZiU0MGFlby1jdXN0b21lci1jb21tb24tcHJvZC00ODBkLmlhbS5nc2VydmljZWFjY291bnQuY29tIg0KfQ=="}'
    	;;
    	
    prod)
    	cf update-user-provided-service $same_day_delivery_subscription -p '{"project_id":"aeo-pivotal-production","subscription_name":"same-day-delivery-subscription-prod","private_key":"ew0KICAidHlwZSI6ICJzZXJ2aWNlX2FjY291bnQiLA0KICAicHJvamVjdF9pZCI6ICJhZW8tY3VzdG9tZXItY29tbW9uLXByb2QtNDgwZCIsDQogICJwcml2YXRlX2tleV9pZCI6ICI3OTMwNmYwYmNmY2RjMzI2MjQzZjQwMDMyYjhkZDJiZmNmMDc2NDYxIiwNCiAgInByaXZhdGVfa2V5IjogIi0tLS0tQkVHSU4gUFJJVkFURSBLRVktLS0tLVxuTUlJRXZBSUJBREFOQmdrcWhraUc5dzBCQVFFRkFBU0NCS1l3Z2dTaUFnRUFBb0lCQVFDcjAreVBudEtZYzRXZVxueVpVcjNOSHk4OU1wMWVnUlVtN3NzaGpGY0ZML3d6TTN2eTdoNHpieTZITmo3NE9nV3pKc3BLU3haRnhuOUMzMVxuTjlMLy84eWFvTWNLRmZIbHZFbmcxK1hHMDQrOUtUWjA2MFFSb1J1dTkrTjF6ZHNya2taWG9CRkEyUXVOV3ZkT1xubFZuMlJ0bnU0MXV6VmhBb0VrTkV5RWdxZVFhYkpaTklXYmVmL1pMMHo4eldMdkV6eXdxUjNWKzBoR09EYTRTTFxuOWhEcVdzUzhXcFVOb1VrRVJ0MVkxVlVUVVRseEZFL0pjLzQ3TjFDaXNPZS8yRHJWSGdndU0zMWF3dVlvUVk0cFxuakhTclNXVHB5OWpYZ1dOY2VCOEhKMkNXWTJhVks5OWQyQjd0TTNMT1ptZFh2TUdmWk5ta0FVRHdZWjhaZHVhRlxuaFJzUllCLy9BZ01CQUFFQ2dnRUFSTWdPZCtkQnNkajhjZldMaXdWWDNZTVEwanhZS3lidVZEMXVnUXBYang0YVxuVUlSdFJlcm9RaEFlc0xCZDVrRGJUSFlUbnhibmpvMUdJRlQ2VjVPVDJZbm1ZdmtwM2FhamhDZW9TUkREQnh1S1xuT3Y4NlBqeFprbzZVTk1IMHE5cGY0ZytuR0doSm9ZbjZXVENiMUdQRU5VWTVuTzRraFlYWis1eVlscmZmbHhhb1xuN05jMks5Z3JsL2lVZmtWeTZvMEVhN1BMMXNudEU1cHM0bmVtS1JtMGpVbW9IYnhMRWg2Vk9KeU93YXcyblRUMFxuYzJyd2RpRlo3cHNJWm1zOURIaUV4M0tZa3NVWHlDbDFpb3FUTTl3STZEZVpTRXdkNk1kemtiR1gzQU56VDJOZVxuRVB6TzZjZ3RhY29wT0puMVBGTWRkRUc2TVdoNERGRy85dk0vTGNmdnNRS0JnUURsUFNiZ3NiVjBwNU9NV2Jrc1xuY0JtczRjMEc5bVc5VDJjS0pzcElzSlNXbFEvajMyYlBmM3ZTSXFzU3htK1dFZXJMcDM5NEM1ZEl5TVVmc3FjQ1xualk3OHlQeXBmbjh1MGxLYjQwSldoQ2ZqbHN5K2pKc3RGUjZUYTRrM2FtZHJVd1J6R2F5OEZJamR0YjNsZXFLMlxuaVZQZ3lwc2VmNWtDaFRPcXA4VWpNaS9LT3dLQmdRQy80d2d2a0swdVhNN1dSS21YNEVrUE9VaUtJalFVY0JnNVxuWldGb1pENWpBN0Q4RjJqUm9lVlcwN1NvWThQVlhBc3d5dm15ZjNnM1VQR1diUS9HQXlnMzg4VWFrMUNEZ2JkMlxub3ZRWFFsMHkrMXljcFRWdG1ZVnFWeDlkanZERUdKMnQvck4vQ3N0QzJudDQ5T2FLV2dBWG9oUEZGTkNQYXMrc1xuUm52a2xFL2hEUUtCZ0hDZnVLZ1A1dnhuRUVDV0hEbk80VzVraVZ4d1ZjL0tZTzlGMjRBVzhRbUNOb3BYeWFVTVxuRndOSWNSQUtXZXc2NVVZbEJxVXQzS2V2cTlsRTVuU0VvOGxoM1hCUWE1L1BTVEs1Vm5BM0FYbjVMcUkzWmsyaFxuNEtIQTVXdEtaWUQvQ21LYUxKbEM1WE0zeFJJblRDV3VGbjJNVE9XUS90V1VKNndpUE9KcjE3cmRBb0dBVGFtNFxuM1crRCtGak55a0UrRnQ5TEVxTlByY0RNTFYxMUlIM2MzK0I2czU2QjJuWXJFWFdpR2ZOVGtqZld3aHNmMkY2K1xua3pVdVZjMG9Db2NYdEVBQTNpeUdvUXZ3c1ZrbUJSbE5DOERyY2IvMHF0M2U4djRJMXBKdWVuSnBGaVVVWktES1xueTJkMS94Zm9rM3NqZCttWFVmbGlZUWpjcEw5SlVHT3lyMEFyMkYwQ2dZQU05ZjJpWHZGZlR0L0xmOUF4VXJadlxuQWdsLzRZQVRpRUdDdWRKSjErcXMvK05HcmxSUU54OWxuWlVuVUN3Qk9PMFZMS1ZGTGVuUEs2ZWk4SzVzNGc0T1xuR0dzUFBtY3A4eis5a0czRm05SEFNaXhlZWVEZTMwYW0xejZiOUJKUlNlUk9WWXFmN2Y4VGx6MWFLblIydHAyUVxuQTNqWmhVZXpJRkU1MnVCUkxrbVNQdz09XG4tLS0tLUVORCBQUklWQVRFIEtFWS0tLS0tXG4iLA0KICAiY2xpZW50X2VtYWlsIjogImFlby1wY2YycGNmLXB1YnN1Yi1wcm9kQGFlby1jdXN0b21lci1jb21tb24tcHJvZC00ODBkLmlhbS5nc2VydmljZWFjY291bnQuY29tIiwNCiAgImNsaWVudF9pZCI6ICIxMDU1OTYxNjIwMjk0ODQwMjA3NDciLA0KICAiYXV0aF91cmkiOiAiaHR0cHM6Ly9hY2NvdW50cy5nb29nbGUuY29tL28vb2F1dGgyL2F1dGgiLA0KICAidG9rZW5fdXJpIjogImh0dHBzOi8vb2F1dGgyLmdvb2dsZWFwaXMuY29tL3Rva2VuIiwNCiAgImF1dGhfcHJvdmlkZXJfeDUwOV9jZXJ0X3VybCI6ICJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9vYXV0aDIvdjEvY2VydHMiLA0KICAiY2xpZW50X3g1MDlfY2VydF91cmwiOiAiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vcm9ib3QvdjEvbWV0YWRhdGEveDUwOS9hZW8tcGNmMnBjZi1wdWJzdWItcHJvZCU0MGFlby1jdXN0b21lci1jb21tb24tcHJvZC00ODBkLmlhbS5nc2VydmljZWFjY291bnQuY29tIg0KfQ=="}'
    	;;

    *)
        echo -n "Invalid Env Name, $same_day_delivery_subscription Service not updated."
        ;;
    esac
	
fi

# Same Day Delivery configurations
same_day_delivery_integration="same-day-delivery-service"
if [[ ! $(cf services | grep $same_day_delivery_integration) ]]
then
  	case $1 in

    dev)
    	cf create-user-provided-service $same_day_delivery_integration -p '{"api_authorization":"Basic YWVnbDJAc2hvcHJ1bm5lci5jb20uc3JzdGc6TFNCWjZQT0Fla29s","api_url":"https://samedaysession.stg.shoprunner.io/retailers/AEGL/checkouts/"}'
    	;;
    
    qa)
    	cf create-user-provided-service $same_day_delivery_integration -p '{"api_authorization":"Basic YWVnbDJAc2hvcHJ1bm5lci5jb20uc3JzdGc6TFNCWjZQT0Fla29s","api_url":"https://samedaysession.stg.shoprunner.io/retailers/AEGL/checkouts/"}'
    	;;
    
    sit)
    	cf create-user-provided-service $same_day_delivery_integration -p '{"api_authorization":"Basic YWVnbDJAc2hvcHJ1bm5lci5jb20uc3JzdGc6TFNCWjZQT0Fla29s","api_url":"https://samedaysession.stg.shoprunner.io/retailers/AEGL/checkouts/"}'
    	;;
        
    perf)
    	cf create-user-provided-service $same_day_delivery_integration -p '{"api_authorization":"Basic YWVnbDJAc2hvcHJ1bm5lci5jb20uc3JzdGc6TFNCWjZQT0Fla29s","api_url":"https://samedaysession.stg.shoprunner.io/retailers/AEGL/checkouts/"}'
    	;;
    	
    prod)
    	cf create-user-provided-service $same_day_delivery_integration -p '{"api_authorization":"Basic YWVnbDJAc2hvcHJ1bm5lci5jb20uc2hvcHJ1bm5lcjpqV3pBTEpFdTRsNnk=","api_url":"https://samedaysession.shoprunner.com/retailers/AEGL/checkouts/"}'
    	;;

    *)
        echo -n "Invalid Env Name, $same_day_delivery_integration Service not set."
        ;;
    esac
    
else

  	case $1 in

    dev)
    	cf update-user-provided-service $same_day_delivery_integration -p '{"api_authorization":"Basic YWVnbDJAc2hvcHJ1bm5lci5jb20uc3JzdGc6TFNCWjZQT0Fla29s","api_url":"https://samedaysession.stg.shoprunner.io/retailers/AEGL/checkouts/"}'
    	;;

    qa)
    	cf update-user-provided-service $same_day_delivery_integration -p '{"api_authorization":"Basic YWVnbDJAc2hvcHJ1bm5lci5jb20uc3JzdGc6TFNCWjZQT0Fla29s","api_url":"https://samedaysession.stg.shoprunner.io/retailers/AEGL/checkouts/"}'
    	;;

    sit)
    	cf update-user-provided-service $same_day_delivery_integration -p '{"api_authorization":"Basic YWVnbDJAc2hvcHJ1bm5lci5jb20uc3JzdGc6TFNCWjZQT0Fla29s","api_url":"https://samedaysession.stg.shoprunner.io/retailers/AEGL/checkouts/"}'
    	;;
        
    perf)
    	cf update-user-provided-service $same_day_delivery_integration -p '{"api_authorization":"Basic YWVnbDJAc2hvcHJ1bm5lci5jb20uc3JzdGc6TFNCWjZQT0Fla29s","api_url":"https://samedaysession.stg.shoprunner.io/retailers/AEGL/checkouts/"}'
    	;;
    	
    prod)
    	cf update-user-provided-service $same_day_delivery_integration -p '{"api_authorization":"Basic YWVnbDJAc2hvcHJ1bm5lci5jb20uc2hvcHJ1bm5lcjpqV3pBTEpFdTRsNnk=","api_url":"https://samedaysession.shoprunner.com/retailers/AEGL/checkouts/"}'
    	;;

    *)
        echo -n "Invalid Env Name, $same_day_delivery_integration Service not updated."
        ;;
    esac
	
fi

# Services configuration for SDD App End

exit

