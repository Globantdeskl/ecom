---
applications:
  - name: checkout-fraud-check-((env))-new
    memory: 2G
    instances: ((min-instances))
    timeout: 180
    buildpacks:
      - java_buildpack_offline_4_32_1
    path: build/libs/checkout-fraud-check-0.0.1-SNAPSHOT.jar
    services:
      - pcf-to-aci
      - fraud-enabled
      - checkout-autoscaler
      - checkout-splunk
      - checkout-newrelic
    routes:
      - route: https://checkout-fraud-check-((env))-new.((public-domain))
      - route: https://checkout-fraud-check-((env))-new.apps.internal
    health-check-type: http
    health-check-http-endpoint: /actuator/health
    env:
      JAVA_OPTS: '-Xshare:off'
      JBP_CONFIG_OPEN_JDK_JRE: '{jre: { version: 14.+ }}'
      NEW_RELIC_APP_NAME: checkout-fraud-check-((env))
      NEW_RELIC_DISTRIBUTED_TRACING_ENABLED: true